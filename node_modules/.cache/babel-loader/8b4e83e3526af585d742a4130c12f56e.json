{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\hplBooking\\\\hplBooking_frontend\\\\src\\\\components\\\\ChangePassword.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Layout, Form, Input } from 'element-react';\nimport api from './api';\n\nvar ChangePassword =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChangePassword, _React$Component);\n\n  function ChangePassword(props) {\n    var _this;\n\n    _classCallCheck(this, ChangePassword);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangePassword).call(this, props));\n    _this.state = {\n      form: {\n        password: '',\n        newpassword: '',\n        newpassword2: ''\n      },\n      username: '',\n      success: false\n    };\n    _this.state.username = sessionStorage.getItem('username');\n    return _this;\n  }\n\n  _createClass(ChangePassword, [{\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var password = this.state.form['password'];\n      var newpassword = this.state.form['newpassword'];\n      var newpassword2 = this.state.form['newpassword2'];\n      var username = this.state['username'];\n\n      if (newpassword != newpassword2) {\n        alert('Two password is different. Please enter again!');\n        return;\n      }\n\n      api.changepassword(username, password, newpassword).then(function () {\n        _this2.setState({\n          success: true\n        });\n      }).catch(function (err) {\n        alert(err); //this.props.history.go(-1);\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(key, event) {\n      this.setState({\n        form: Object.assign(this.state.form, _defineProperty({}, key, event))\n      }); // this.state.form[key] = event.target.value;\n      // this.forceUpdate();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.success) //return <Redirect to=\"/signout\" />;\n        return React.createElement(Layout.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, React.createElement(Layout.Col, {\n          span: \"24\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"grid-content bg-purple-light\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }, React.createElement(Form, {\n          className: \"en-US\",\n          model: this.state.form,\n          labelWidth: \"120\",\n          onSubmit: this.onSubmit.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, React.createElement(Form.Item, {\n          style: {\n            marginLeft: '100px',\n            marginTop: 100\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"col-lg-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, \"Old password\"), React.createElement(Input, {\n          className: \"col-lg-10\",\n          style: {\n            width: 485\n          },\n          type: \"password\",\n          value: this.state.form.password,\n          onChange: this.handleChange.bind(this, 'password'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })), React.createElement(Form.Item, {\n          style: {\n            marginLeft: '100px',\n            marginTop: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"col-lg-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, \"New password\"), React.createElement(Input, {\n          className: \"col-lg-10\",\n          style: {\n            width: 485\n          },\n          type: \"password\",\n          value: this.state.form.newpassword,\n          onChange: this.handleChange.bind(this, 'newpassword'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        })), React.createElement(Form.Item, {\n          style: {\n            marginLeft: '100px',\n            marginTop: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"col-lg-2\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Password again\"), React.createElement(Input, {\n          className: \"col-lg-10\",\n          style: {\n            width: 485\n          },\n          type: \"password\",\n          value: this.state.form.newpassword2,\n          onChange: this.handleChange.bind(this, 'newpassword2'),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        })), React.createElement(Form.Item, {\n          style: {\n            marginLeft: '300px',\n            marginTop: 30\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, React.createElement(Button, {\n          type: \"primary\",\n          nativeType: \"submit\",\n          style: {\n            marginLeft: 60\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, \"Change\"), React.createElement(Button, {\n          style: {\n            marginLeft: 140\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Cancel\"))))));\n    }\n  }]);\n\n  return ChangePassword;\n}(React.Component);\n\nexport { ChangePassword as default };","map":{"version":3,"sources":["C:\\Users\\Dell\\Desktop\\hplBooking\\hplBooking_frontend\\src\\components\\ChangePassword.js"],"names":["React","Redirect","Button","Layout","Form","Input","api","ChangePassword","props","state","form","password","newpassword","newpassword2","username","success","sessionStorage","getItem","e","preventDefault","alert","changepassword","then","setState","catch","err","key","event","Object","assign","onSubmit","bind","marginLeft","marginTop","width","handleChange","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Button, Layout, Form, Input } from 'element-react';\r\nimport api from './api';\r\n\r\nexport default class ChangePassword extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      form: {\r\n        password: '',\r\n        newpassword: '',\r\n        newpassword2: '',\r\n      },\r\n      username: '',\r\n      success: false,\r\n    };\r\n\r\n    this.state.username = sessionStorage.getItem('username');\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n    let password = this.state.form['password'];\r\n    let newpassword = this.state.form['newpassword'];\r\n    let newpassword2 = this.state.form['newpassword2'];\r\n    let username = this.state['username'];\r\n\r\n    if (newpassword != newpassword2) {\r\n      alert('Two password is different. Please enter again!');\r\n      return;\r\n    }\r\n\r\n    api\r\n      .changepassword(username, password, newpassword)\r\n      .then(() => {\r\n        this.setState({ success: true });\r\n      })\r\n      .catch(err => {\r\n        alert(err);\r\n        //this.props.history.go(-1);\r\n      });\r\n  }\r\n\r\n  handleChange(key, event) {\r\n    this.setState({\r\n      form: Object.assign(this.state.form, { [key]: event }),\r\n    });\r\n    // this.state.form[key] = event.target.value;\r\n    // this.forceUpdate();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.success) //return <Redirect to=\"/signout\" />;\r\n\r\n    return (\r\n      <Layout.Row>\r\n        <Layout.Col span=\"24\">\r\n          <div className=\"grid-content bg-purple-light\">\r\n            <Form\r\n              className=\"en-US\"\r\n              model={this.state.form}\r\n              labelWidth=\"120\"\r\n              onSubmit={this.onSubmit.bind(this)}\r\n            >\r\n              <Form.Item style={{ marginLeft: '100px', marginTop: 100 }}>\r\n                <h5 className=\"col-lg-2\">Old password</h5>\r\n                <Input\r\n                  className=\"col-lg-10\"\r\n                  style={{ width: 485 }}\r\n                  type=\"password\"\r\n                  value={this.state.form.password}\r\n                  onChange={this.handleChange.bind(this, 'password')}\r\n                />\r\n              </Form.Item>\r\n\r\n              <Form.Item style={{ marginLeft: '100px', marginTop: 30 }}>\r\n                <h5 className=\"col-lg-2\">New password</h5>\r\n                <Input\r\n                  className=\"col-lg-10\"\r\n                  style={{ width: 485 }}\r\n                  type=\"password\"\r\n                  value={this.state.form.newpassword}\r\n                  onChange={this.handleChange.bind(this, 'newpassword')}\r\n                />\r\n              </Form.Item>\r\n\r\n              <Form.Item style={{ marginLeft: '100px', marginTop: 30 }}>\r\n                <h5 className=\"col-lg-2\">Password again</h5>\r\n                <Input\r\n                  className=\"col-lg-10\"\r\n                  style={{ width: 485 }}\r\n                  type=\"password\"\r\n                  value={this.state.form.newpassword2}\r\n                  onChange={this.handleChange.bind(this, 'newpassword2')}\r\n                />\r\n              </Form.Item>\r\n\r\n              <Form.Item style={{ marginLeft: '300px', marginTop: 30 }}>\r\n                <Button\r\n                  type=\"primary\"\r\n                  nativeType=\"submit\"\r\n                  style={{ marginLeft: 60 }}\r\n                >\r\n                  Change\r\n                </Button>\r\n                <Button style={{ marginLeft: 140 }}>Cancel</Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </Layout.Col>\r\n      </Layout.Row>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}