{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\welcome\\\\Desktop\\\\TTCNPM\\\\front-end\\\\hplBooking_frontend\\\\src\\\\components\\\\Booking.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Button, Layout, Form, Input, DatePicker, Select, TimePicker, Checkbox, Alert, Notification } from 'element-react';\nimport 'element-theme-default';\nimport * as moment from 'moment';\nimport * as api from './api';\n\nvar Recruitment =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Recruitment, _React$Component);\n\n  function Recruitment(props) {\n    var _this;\n\n    _classCallCheck(this, Recruitment);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Recruitment).call(this, props));\n\n    _this.handleChange = function (name) {\n      return function (value) {\n        _this.setState(_defineProperty({}, name, value));\n      };\n    };\n\n    _this.state = {\n      success: false,\n      form: {\n        address: '',\n        salary: '',\n        timespan: null,\n        date: null,\n        worktime: null,\n        type: '',\n        desc: ''\n      },\n      salary_options: [{\n        label: '50.000/hour',\n        value: 0\n      }, {\n        label: '75.000/hour',\n        value: 1\n      }, {\n        label: '100.000/hour',\n        value: 2\n      }, {\n        label: '150.000/hour',\n        value: 3\n      }, {\n        label: '200.000/hour',\n        value: 4\n      }, {\n        label: '250.000/hour',\n        value: 5\n      }, {\n        label: '300.000/hour',\n        value: 6\n      }]\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Recruitment, [{\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var id = sessionStorage.getItem('id');\n      var description = this.state.desc;\n      var typeWork = this.state.type;\n      var date = this.state.date;\n      var worktime = this.state.worktime;\n      var location = this.state.address;\n      var salary = this.state.salary_options[this.state.salary].label;\n\n      if (date === null || worktime === null) {\n        return;\n      } // current UI:\n      //    select date\n      //    select hour-minutes\n      //    turns into unix time\n\n\n      var time_to_work = moment(date).add({\n        hours: moment(worktime).hours(),\n        minutes: moment(worktime).minutes()\n      }); // work duration, not yet in UI, default to 3hours\n\n      var timespan = this.state.timespan;\n      timespan = 3 * 60 * 60 * 1000;\n      api.createWork(id, typeWork, time_to_work.valueOf(), timespan, salary, location, description).then(function (data) {\n        _this2.setState({\n          success: true\n        });\n\n        Notification.success({\n          title: 'Create work success'\n        });\n      }).catch(function (err) {\n        alert(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.success) return React.createElement(Redirect, {\n        to: \"/users1/schedule\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      });\n      return React.createElement(\"div\", {\n        style: {\n          width: 800,\n          marginTop: 100,\n          marginLeft: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: \"en-US\",\n        model: this.state,\n        labelWidth: \"120\",\n        onSubmit: this.onSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        label: \"Date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(Layout.Col, {\n        span: \"11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Form.Item, {\n        prop: \"date\",\n        labelWidth: \"0px\",\n        style: {\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        value: this.state.date,\n        placeholder: \"Pick a date\",\n        onChange: this.handleChange('date'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }))), React.createElement(Layout.Col, {\n        className: \"line\",\n        span: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"-\")), React.createElement(Form.Item, {\n        label: \"Salary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Select, {\n        onChange: this.handleChange('salary'),\n        value: this.state.salary,\n        style: {\n          marginLeft: 30\n        },\n        placeholder: \"Please select salary for helper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, this.state.salary_options.map(function (el) {\n        return React.createElement(Select.Option, {\n          key: el.label,\n          label: el.label,\n          value: el.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158\n          },\n          __self: this\n        });\n      }))), React.createElement(Form.Item, {\n        label: \"Activity type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(Checkbox.Group, {\n        value: this.state.type,\n        onChange: this.handleChange('type'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(Checkbox, {\n        label: \"Cham soc tre\",\n        name: \"type\",\n        style: {\n          marginRight: 250,\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(Checkbox, {\n        label: \"Cham soc nguoi gia\",\n        name: \"type\",\n        style: {\n          marginLeft: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }), React.createElement(Checkbox, {\n        label: \"Quet don nha cua\",\n        name: \"type\",\n        style: {\n          marginRight: 250,\n          marginLeft: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(Checkbox, {\n        label: \"Sua chua cac thiet bi\",\n        name: \"type\",\n        style: {\n          marginLeft: '-33px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }))), React.createElement(Form.Item, {\n        label: \"Description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"textarea\",\n        value: this.state.desc,\n        style: {\n          marginLeft: 30,\n          width: 550\n        },\n        onChange: this.handleChange('desc'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      })), React.createElement(Form.Item, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(Button, {\n        type: \"primary\",\n        nativeType: \"submit\",\n        style: {\n          marginLeft: 200,\n          marginRight: 100,\n          marginTop: 50\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Create\"), React.createElement(Button, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, \"Cancel\"))));\n    }\n  }]);\n\n  return Recruitment;\n}(React.Component);\n\nexport { Recruitment as default };","map":{"version":3,"sources":["C:\\Users\\welcome\\Desktop\\TTCNPM\\front-end\\hplBooking_frontend\\src\\components\\Booking.js"],"names":["React","Redirect","Button","Layout","Form","Input","DatePicker","Select","TimePicker","Checkbox","Alert","Notification","moment","api","Recruitment","props","handleChange","name","value","setState","state","success","form","address","salary","timespan","date","worktime","type","desc","salary_options","label","bind","e","preventDefault","id","sessionStorage","getItem","description","typeWork","location","time_to_work","add","hours","minutes","createWork","valueOf","then","data","title","catch","err","alert","width","marginTop","marginLeft","onSubmit","map","el","marginRight","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {\r\n  Button,\r\n  Layout,\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Select,\r\n  TimePicker,\r\n  Checkbox,\r\n  Alert,\r\n  Notification,\r\n} from 'element-react';\r\nimport 'element-theme-default';\r\nimport * as moment from 'moment';\r\nimport * as api from './api';\r\n\r\nexport default class Recruitment extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      success: false,\r\n      form: {\r\n        address: '',\r\n        salary: '',\r\n        timespan: null,\r\n        date: null,\r\n        worktime: null,\r\n        type: '',\r\n        desc: '',\r\n      },\r\n      salary_options: [\r\n        { label: '50.000/hour', value: 0 },\r\n        { label: '75.000/hour', value: 1 },\r\n        { label: '100.000/hour', value: 2 },\r\n        { label: '150.000/hour', value: 3 },\r\n        { label: '200.000/hour', value: 4 },\r\n        { label: '250.000/hour', value: 5 },\r\n        { label: '300.000/hour', value: 6 },\r\n      ],\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    let id = sessionStorage.getItem('id');\r\n    const description = this.state.desc;\r\n    const typeWork = this.state.type;\r\n    const date = this.state.date;\r\n    const worktime = this.state.worktime;\r\n    const location = this.state.address;\r\n    const salary = this.state.salary_options[this.state.salary].label;\r\n\r\n    if (date === null || worktime === null) {\r\n      return;\r\n    }\r\n\r\n    // current UI:\r\n    //    select date\r\n    //    select hour-minutes\r\n    //    turns into unix time\r\n    const time_to_work = moment(date).add({\r\n      hours: moment(worktime).hours(),\r\n      minutes: moment(worktime).minutes(),\r\n    });\r\n\r\n    // work duration, not yet in UI, default to 3hours\r\n    let timespan = this.state.timespan;\r\n    timespan = 3 * 60 * 60 * 1000;\r\n    api\r\n      .createWork(\r\n        id,\r\n        typeWork,\r\n        time_to_work.valueOf(),\r\n        timespan,\r\n        salary,\r\n        location,\r\n        description\r\n      )\r\n      .then(data => {\r\n        this.setState({\r\n          success: true,\r\n        });\r\n        Notification.success({\r\n          title: 'Create work success',\r\n        });\r\n      })\r\n      .catch(err => {\r\n        alert(err);\r\n      });\r\n  }\r\n\r\n  handleChange = name => value => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    if (this.state.success) return <Redirect to=\"/users1/schedule\" />;\r\n    return (\r\n      <div style={{ width: 800, marginTop: 100, marginLeft: 100 }}>\r\n        <Form\r\n          className=\"en-US\"\r\n          model={this.state}\r\n          labelWidth=\"120\"\r\n          onSubmit={this.onSubmit.bind(this)}\r\n        >\r\n          {/* <Form.Item label=\"Address\">\r\n            <Input\r\n              value={this.state.address}\r\n              onChange={this.handleChange('address')}\r\n              style={{ marginLeft: 30 }}\r\n            />\r\n          </Form.Item> */}\r\n          \r\n          <Form.Item label=\"Date\">\r\n            <Layout.Col span=\"11\">\r\n              <Form.Item\r\n                prop=\"date\"\r\n                labelWidth=\"0px\"\r\n                style={{ marginLeft: 30 }}\r\n              >\r\n                <DatePicker\r\n                  value={this.state.date}\r\n                  placeholder=\"Pick a date\"\r\n                  onChange={this.handleChange('date')}\r\n                />\r\n              </Form.Item>\r\n            </Layout.Col>\r\n            <Layout.Col className=\"line\" span=\"2\">\r\n              -\r\n            </Layout.Col>\r\n            {/* <Layout.Col span=\"11\">\r\n              <Form.Item prop=\"time\" labelWidth=\"0px\">\r\n                <TimePicker\r\n                  value={this.state.worktime}\r\n                  selectableRange=\"00:00:00 - 23:59:59\"\r\n                  placeholder=\"Pick a time\"\r\n                  onChange={this.handleChange('worktime')}\r\n                />\r\n              </Form.Item>\r\n            </Layout.Col> */}\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Salary\">\r\n            <Select\r\n              onChange={this.handleChange('salary')}\r\n              value={this.state.salary}\r\n              style={{ marginLeft: 30 }}\r\n              placeholder=\"Please select salary for helper\"\r\n            >\r\n              {this.state.salary_options.map(el => {\r\n                return (\r\n                  <Select.Option\r\n                    key={el.label}\r\n                    label={el.label}\r\n                    value={el.value}\r\n                  />\r\n                );\r\n              })}\r\n            </Select>\r\n          </Form.Item>\r\n\r\n\r\n          <Form.Item label=\"Activity type\">\r\n            <Checkbox.Group\r\n              value={this.state.type}\r\n              onChange={this.handleChange('type')}\r\n            >\r\n              <Checkbox\r\n                label=\"Cham soc tre\"\r\n                name=\"type\"\r\n                style={{ marginRight: 250, marginLeft: 30 }}\r\n              />\r\n              <Checkbox\r\n                label=\"Cham soc nguoi gia\"\r\n                name=\"type\"\r\n                style={{ marginLeft: 0 }}\r\n              />\r\n              <br />\r\n              <Checkbox\r\n                label=\"Quet don nha cua\"\r\n                name=\"type\"\r\n                style={{ marginRight: 250, marginLeft: 30 }}\r\n              />\r\n              <Checkbox\r\n                label=\"Sua chua cac thiet bi\"\r\n                name=\"type\"\r\n                style={{ marginLeft: '-33px' }}\r\n              />\r\n            </Checkbox.Group>\r\n          </Form.Item>\r\n\r\n          <Form.Item label=\"Description\">\r\n            <Input\r\n              type=\"textarea\"\r\n              value={this.state.desc}\r\n              style={{ marginLeft: 30, width: 550 }}\r\n              onChange={this.handleChange('desc')}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button\r\n              type=\"primary\"\r\n              nativeType=\"submit\"\r\n              style={{ marginLeft: 200, marginRight: 100, marginTop: 50 }}\r\n            >\r\n              Create\r\n            </Button>\r\n            <Button>Cancel</Button>\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}